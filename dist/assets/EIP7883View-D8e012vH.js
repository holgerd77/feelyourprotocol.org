import{_ as N}from"./EIPView.vue_vue_type_script_setup_true_lang-Bxs1003N.js";import{c as d,_,a as A,i as R,v as O,t as w,p as h,r as J,b as I,d as Y,H as S}from"./precompiles-Cb-usWTq.js";import{d as $,E as z,r as s,u as G,b as K,e as Q,f as W,c as C,o as L,g as U,w as E,h as f,a as n,i as X}from"./index-BM_Jm4vp.js";import{_ as Z,a as ee,b as ae,c as te}from"./blobs-CmQVFcpR.js";import{_ as le}from"./DancerView.vue_vue_type_script_setup_true_lang-5SyEvlrR.js";import"./TooltipC.vue_vue_type_script_setup_true_lang-1qwQf5oA.js";import"./ArrowTopRightOnSquareIcon-HiPRzY_9.js";const ne={class:"grid grid-cols-2 gap-1 mt-2.5"},ue=$({__name:"EIP7883C",async setup(q){let v,b;const B=z["eip-7883"],u=s(""),e=s(Array(6).fill("00".repeat(32))),c=s(Array(6).fill(0n)),p=s([32n,32n,32n,void 0,void 0,void 0]),l=s(Array(6).fill(0n)),o=s(""),g=s(),x=s(),F=s([{name:"EthereumJS",href:"https://github.com/ethereumjs/ethereumjs-monorepo"}]),H=G(),r=K();Q(e,()=>{console.log("hexVals changed",e.value)});const m={simple:{title:"Simple",values:["03","03","02"]},"5-byte-exponent":{title:"5-Byte Exponent",values:["03",d(5),"02"]},"20-byte-exponent":{title:"20-Byte Exponent",values:["03",d(20),"02"]},"32-byte-exponent":{title:"32-Byte Exponent",values:["03",d(32),"02"]},"33-byte-exponent":{title:"33-Byte Exponent",values:["03",d(33),"02"]},"1024-byte-exponent":{title:"1024-Byte Exponent",values:["03",d(1024),"02"]},"1025-byte-exponent":{title:"1025-Byte Exponent (invalid with EIP-7823)",values:["03",d(1025),"02"]},"rsa-random-2048-bit":{title:"Random RSA 2048-bit",values:["657468657265756d","010001","a709e2f84ac0e21eb0caa018cf7f697f774e96f8115fc2359e9cf60b1dd8d4048d974cdf8422bef6be3c162b04b916f7ea2133f0e3e4e0eee164859bd9c1e0ef0357c142f4f633b4add4aab86c8f8895cd33fbf4e024d9a3ad6be6267570b4a72d2c34354e0139e74ada665a16a2611490debb8e131a6cffc7ef25e74240803dd71a4fcd953c988111b0aa9bbc4c57024fc5e8c4462ad9049c7f1abed859c63455fa6d58b5cc34a3d3206ff74b9e96c336dbacf0cdd18ed0c66796ce00ab07f36b24cbe3342523fd8215a8e77f89e86a08db911f237459388dee642dae7cb2644a03e71ed5c6fa5077cf4090fafa556048b536b879a88f628698f0c7b420c4b7"]}},P=async()=>{o.value!==""&&(e.value[3]=m[o.value].values[0],e.value[4]=m[o.value].values[1],e.value[5]=m[o.value].values[2],await y())};function M(){const i=H.resolve({name:"eip-7883",query:{b:e.value[3],e:e.value[4],m:e.value[5]}});window.open(i.href,"_blank")}async function k(){await J(u.value,S.Prague,S.Osaka,"05",g,x)}async function D(){if(!R(u.value))return!1;l.value[3]=I(u,0,64),l.value[4]=I(u,64,128),l.value[5]=I(u,128,192),Y(u,e,c,l),await k()}async function T(){o.value="",await D()}async function y(){for(let i=0;i<e.value.length;i++)if(R(e.value[i],p.value[i]).length>0)return!1;O(e,c,p,l),u.value=w(l.value[3],64)+w(l.value[4],64)+w(l.value[5],64)+h(e.value[3])+h(e.value[4])+h(e.value[5]),await k()}async function V(){console.log("onValueInputFormChange"),o.value="",await y()}async function j(){if("b"in r.query&&"e"in r.query&&"m"in r.query)try{e.value[3]=r.query.b.toString(),e.value[4]=r.query.e.toString(),e.value[5]=r.query.m.toString(),await y()}catch{console.log("Invalid parameter call!")}else o.value="simple",await P()}return[v,b]=W(()=>j()),await v,b(),(i,a)=>(L(),C(Z,{title:U(B).title,eip:U(B).num,shareURL:M},{description:E(()=>[...a[7]||(a[7]=[f("p",null,[f("b",null,"How are ModExp gas costs changing with Fusaka?"),X(" EIP-7883 changes the gas calculation algorithm of the ModExp precompile. ")],-1),f("p",{class:"mt-4"}," Especially interesting to explore are values around 32 bytes. Also take note of the new base costs. A major use case in smart contracts is to verify RSA signatures, e.g. in the context of airdrops. You can find a realistic RSA value setup in the examples. The widget also respects the new ModExp value boundaries set with EIP-7823 (also Fusaka). ",-1)])]),content:E(()=>[f("div",null,[n(ee,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=t=>o.value=t),examples:m,change:P},null,8,["modelValue"]),n(ae,{modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=t=>u.value=t),rows:"6",formChange:T},null,8,["modelValue"]),n(_,{modelValue:e.value[3],"onUpdate:modelValue":a[2]||(a[2]=t=>e.value[3]=t),title:"B",input:V,len:l.value[3],expectedLen:p.value[3],bigIntVal:c.value[3]},null,8,["modelValue","len","expectedLen","bigIntVal"]),n(_,{modelValue:e.value[4],"onUpdate:modelValue":a[3]||(a[3]=t=>e.value[4]=t),title:"E",num:"4",input:V,len:l.value[4],expectedLen:p.value[4],bigIntVal:c.value[4]},null,8,["modelValue","len","expectedLen","bigIntVal"]),n(_,{modelValue:e.value[5],"onUpdate:modelValue":a[4]||(a[4]=t=>e.value[5]=t),title:"M",num:"5",input:V,len:l.value[5],expectedLen:p.value[5],bigIntVal:c.value[5]},null,8,["modelValue","len","expectedLen","bigIntVal"]),f("div",ne,[n(A,{modelValue:g.value,"onUpdate:modelValue":a[5]||(a[5]=t=>g.value=t),title:"Pre-Osaka",left:!0},null,8,["modelValue"]),n(A,{modelValue:x.value,"onUpdate:modelValue":a[6]||(a[6]=t=>x.value=t),title:"Post-Osaka",left:!1},null,8,["modelValue"])]),n(te,{poweredBy:F.value},null,8,["poweredBy"])])]),_:1},8,["title","eip"]))}}),fe=$({__name:"EIP7883View",setup(q){return(v,b)=>(L(),C(N,null,{default:E(()=>[n(ue),n(le,{nameId:"precompiles"})]),_:1}))}});export{fe as default};
