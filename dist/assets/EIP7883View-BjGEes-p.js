import{_ as N}from"./EIPView.vue_vue_type_script_setup_true_lang-D4S9y7w9.js";import{c,_ as O,a as J,b as Y,d as _,e as A,f as z,i as R,v as G,t as h,p as w,r as K,g as I,h as Q,H as S}from"./precompiles-CRrTAYhO.js";import{d as $,E as W,r as s,u as X,a as Z,w as ee,b as ae,c as C,o as L,e as U,f as E,g as r,h as n,i as te}from"./index-C7w1sOAK.js";import{_ as le}from"./DancerView.vue_vue_type_script_setup_true_lang-DQATXa3s.js";import"./TooltipC.vue_vue_type_script_setup_true_lang-BfdoAx6I.js";import"./ArrowTopRightOnSquareIcon-BW3Gp79Q.js";const ne={class:"text-right"},ue={class:"grid grid-cols-2 gap-1 mt-2.5"},oe=$({__name:"EIP7883C",async setup(q){let v,b;const B=W["eip-7883"],u=s(""),e=s(Array(6).fill("00".repeat(32))),p=s(Array(6).fill(0n)),f=s([32n,32n,32n,void 0,void 0,void 0]),l=s(Array(6).fill(0n)),o=s(""),g=s(),x=s(),F=s([{name:"EthereumJS",href:"https://github.com/ethereumjs/ethereumjs-monorepo"}]),H=X(),d=Z();ee(e,()=>{console.log("hexVals changed",e.value)});const m={simple:{title:"Simple",values:["03","03","02"]},"5-byte-exponent":{title:"5-Byte Exponent",values:["03",c(5),"02"]},"20-byte-exponent":{title:"20-Byte Exponent",values:["03",c(20),"02"]},"32-byte-exponent":{title:"32-Byte Exponent",values:["03",c(32),"02"]},"33-byte-exponent":{title:"33-Byte Exponent",values:["03",c(33),"02"]},"1024-byte-exponent":{title:"1024-Byte Exponent",values:["03",c(1024),"02"]},"1025-byte-exponent":{title:"1025-Byte Exponent (invalid with EIP-7823)",values:["03",c(1025),"02"]},"rsa-random-2048-bit":{title:"Random RSA 2048-bit",values:["657468657265756d","010001","a709e2f84ac0e21eb0caa018cf7f697f774e96f8115fc2359e9cf60b1dd8d4048d974cdf8422bef6be3c162b04b916f7ea2133f0e3e4e0eee164859bd9c1e0ef0357c142f4f633b4add4aab86c8f8895cd33fbf4e024d9a3ad6be6267570b4a72d2c34354e0139e74ada665a16a2611490debb8e131a6cffc7ef25e74240803dd71a4fcd953c988111b0aa9bbc4c57024fc5e8c4462ad9049c7f1abed859c63455fa6d58b5cc34a3d3206ff74b9e96c336dbacf0cdd18ed0c66796ce00ab07f36b24cbe3342523fd8215a8e77f89e86a08db911f237459388dee642dae7cb2644a03e71ed5c6fa5077cf4090fafa556048b536b879a88f628698f0c7b420c4b7"]}},P=async()=>{o.value!==""&&(e.value[3]=m[o.value].values[0],e.value[4]=m[o.value].values[1],e.value[5]=m[o.value].values[2],await y())};function M(){const i=H.resolve({name:"eip-7883",query:{b:e.value[3],e:e.value[4],m:e.value[5]}});window.open(i.href,"_blank")}async function k(){await K(u.value,S.Prague,S.Osaka,"05",g,x)}async function D(){if(!R(u.value))return!1;l.value[3]=I(u,0,64),l.value[4]=I(u,64,128),l.value[5]=I(u,128,192),Q(u,e,p,l),await k()}async function T(){o.value="",await D()}async function y(){for(let i=0;i<e.value.length;i++)if(R(e.value[i],f.value[i]).length>0)return!1;G(e,p,f,l),u.value=h(l.value[3],64)+h(l.value[4],64)+h(l.value[5],64)+w(e.value[3])+w(e.value[4])+w(e.value[5]),await k()}async function V(){console.log("onValueInputFormChange"),o.value="",await y()}async function j(){if("b"in d.query&&"e"in d.query&&"m"in d.query)try{e.value[3]=d.query.b.toString(),e.value[4]=d.query.e.toString(),e.value[5]=d.query.m.toString(),await y()}catch{console.log("Invalid parameter call!")}else o.value="simple",await P()}return[v,b]=ae(()=>j()),await v,b(),(i,a)=>(L(),C(O,{title:U(B).title,eip:U(B).num,shareURL:M},{description:E(()=>[...a[7]||(a[7]=[r("p",null,[r("b",null,"How are ModExp gas costs changing with Fusaka?"),te(" EIP-7883 changes the gas calculation algorithm of the ModExp precompile. ")],-1),r("p",{class:"mt-4"}," Especially interesting to explore are values around 32 bytes. Also take note of the new base costs. A major use case in smart contracts is to verify RSA signatures, e.g. in the context of airdrops. You can find a realistic RSA value setup in the examples. The widget also respects the new ModExp value boundaries set with EIP-7823 (also Fusaka). ",-1)])]),content:E(()=>[r("div",null,[r("p",ne,[n(J,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=t=>o.value=t),examples:m,change:P},null,8,["modelValue"])]),r("p",null,[n(Y,{modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=t=>u.value=t),rows:"6",formChange:T},null,8,["modelValue"])]),n(_,{modelValue:e.value[3],"onUpdate:modelValue":a[2]||(a[2]=t=>e.value[3]=t),title:"B",input:V,len:l.value[3],expectedLen:f.value[3],bigIntVal:p.value[3]},null,8,["modelValue","len","expectedLen","bigIntVal"]),n(_,{modelValue:e.value[4],"onUpdate:modelValue":a[3]||(a[3]=t=>e.value[4]=t),title:"E",num:"4",input:V,len:l.value[4],expectedLen:f.value[4],bigIntVal:p.value[4]},null,8,["modelValue","len","expectedLen","bigIntVal"]),n(_,{modelValue:e.value[5],"onUpdate:modelValue":a[4]||(a[4]=t=>e.value[5]=t),title:"M",num:"5",input:V,len:l.value[5],expectedLen:f.value[5],bigIntVal:p.value[5]},null,8,["modelValue","len","expectedLen","bigIntVal"]),r("div",ue,[n(A,{modelValue:g.value,"onUpdate:modelValue":a[5]||(a[5]=t=>g.value=t),title:"Pre-Osaka",left:!0},null,8,["modelValue"]),n(A,{modelValue:x.value,"onUpdate:modelValue":a[6]||(a[6]=t=>x.value=t),title:"Post-Osaka",left:!1},null,8,["modelValue"])]),n(z,{poweredBy:F.value},null,8,["poweredBy"])])]),_:1},8,["title","eip"]))}}),fe=$({__name:"EIP7883View",setup(q){return(v,b)=>(L(),C(N,null,{default:E(()=>[n(oe),n(le,{nameId:"precompiles"})]),_:1}))}});export{fe as default};
