import{c as r,_ as x,a as P,i as A,v as M,t as V,p as w,r as D,b as h,d as T,H as R}from"./precompiles-CSzw6ne3.js";import{d as j,E as N,r as o,k as O,l as J,m as Y,h as z,c as G,o as K,u as S,w as U,g as v,a as s,e as Q}from"./index-BDmlhFEC.js";import{_ as W,a as X,b as Z,g as ee}from"./blobs-BeWBpyBh.js";const ae={class:"grid grid-cols-2 gap-1 mt-2.5"},oe=j({__name:"EIP7883C",async setup(te){let I,E;const B=N["eip-7883"],n=o(""),e=o(Array(6).fill("00".repeat(32))),c=o(Array(6).fill(0n)),p=o([32n,32n,32n,void 0,void 0,void 0]),l=o(Array(6).fill(0n)),u=o(""),m=o(),b=o(),C=o([{name:"EthereumJS",href:"https://github.com/ethereumjs/ethereumjs-monorepo"}]),L=O(),d=J();Y(e,()=>{console.log("hexVals changed",e.value)});const f={simple:{title:"Simple",values:["03","03","02"]},"5-byte-exponent":{title:"5-Byte Exponent",values:["03",r(5),"02"]},"20-byte-exponent":{title:"20-Byte Exponent",values:["03",r(20),"02"]},"32-byte-exponent":{title:"32-Byte Exponent",values:["03",r(32),"02"]},"33-byte-exponent":{title:"33-Byte Exponent",values:["03",r(33),"02"]},"1024-byte-exponent":{title:"1024-Byte Exponent",values:["03",r(1024),"02"]},"1025-byte-exponent":{title:"1025-Byte Exponent (invalid with EIP-7823)",values:["03",r(1025),"02"]},"rsa-random-2048-bit":{title:"Random RSA 2048-bit",values:["657468657265756d","010001","a709e2f84ac0e21eb0caa018cf7f697f774e96f8115fc2359e9cf60b1dd8d4048d974cdf8422bef6be3c162b04b916f7ea2133f0e3e4e0eee164859bd9c1e0ef0357c142f4f633b4add4aab86c8f8895cd33fbf4e024d9a3ad6be6267570b4a72d2c34354e0139e74ada665a16a2611490debb8e131a6cffc7ef25e74240803dd71a4fcd953c988111b0aa9bbc4c57024fc5e8c4462ad9049c7f1abed859c63455fa6d58b5cc34a3d3206ff74b9e96c336dbacf0cdd18ed0c66796ce00ab07f36b24cbe3342523fd8215a8e77f89e86a08db911f237459388dee642dae7cb2644a03e71ed5c6fa5077cf4090fafa556048b536b879a88f628698f0c7b420c4b7"]}},_=async()=>{u.value!==""&&(e.value[3]=f[u.value].values[0],e.value[4]=f[u.value].values[1],e.value[5]=f[u.value].values[2],await g())};function q(){const i=L.resolve({name:"eip-7883",query:{b:e.value[3],e:e.value[4],m:e.value[5]}});window.open(i.href,"_blank")}async function k(){await D(n.value,R.Prague,R.Osaka,"05",m,b)}async function F(){if(!A(n.value))return!1;l.value[3]=h(n,0,64),l.value[4]=h(n,64,128),l.value[5]=h(n,128,192),T(n,e,c,l),await k()}async function H(){u.value="",await F()}async function g(){for(let i=0;i<e.value.length;i++)if(A(e.value[i],p.value[i]).length>0)return!1;M(e,c,p,l),n.value=V(l.value[3],64)+V(l.value[4],64)+V(l.value[5],64)+w(e.value[3])+w(e.value[4])+w(e.value[5]),await k()}async function y(){console.log("onValueInputFormChange"),u.value="",await g()}async function $(){if("b"in d.query&&"e"in d.query&&"m"in d.query)try{e.value[3]=d.query.b.toString(),e.value[4]=d.query.e.toString(),e.value[5]=d.query.m.toString(),await g()}catch{console.log("Invalid parameter call!")}else u.value="simple",await _()}return[I,E]=z(()=>$()),await I,E(),(i,a)=>(K(),G(W,{title:S(B).title,eip:S(B).num,shareURL:q},{description:U(()=>[...a[7]||(a[7]=[v("p",null,[v("b",null,"How are ModExp gas costs changing with Fusaka?"),Q(" EIP-7883 changes the gas calculation algorithm of the ModExp precompile. ")],-1),v("p",{class:"mt-4"}," Especially interesting to explore are values around 32 bytes. Also take note of the new base costs. A major use case in smart contracts is to verify RSA signatures, e.g. in the context of airdrops. You can find a realistic RSA value setup in the examples. The widget also respects the new ModExp value boundaries set with EIP-7823 (also Fusaka). ",-1)])]),content:U(()=>[v("div",null,[s(X,{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=t=>u.value=t),examples:f,change:_},null,8,["modelValue"]),s(Z,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=t=>n.value=t),rows:"6",formChange:H},null,8,["modelValue"]),s(x,{modelValue:e.value[3],"onUpdate:modelValue":a[2]||(a[2]=t=>e.value[3]=t),title:"B",input:y,len:l.value[3],expectedLen:p.value[3],bigIntVal:c.value[3]},null,8,["modelValue","len","expectedLen","bigIntVal"]),s(x,{modelValue:e.value[4],"onUpdate:modelValue":a[3]||(a[3]=t=>e.value[4]=t),title:"E",num:"4",input:y,len:l.value[4],expectedLen:p.value[4],bigIntVal:c.value[4]},null,8,["modelValue","len","expectedLen","bigIntVal"]),s(x,{modelValue:e.value[5],"onUpdate:modelValue":a[4]||(a[4]=t=>e.value[5]=t),title:"M",num:"5",input:y,len:l.value[5],expectedLen:p.value[5],bigIntVal:c.value[5]},null,8,["modelValue","len","expectedLen","bigIntVal"]),v("div",ae,[s(P,{modelValue:m.value,"onUpdate:modelValue":a[5]||(a[5]=t=>m.value=t),title:"Pre-Osaka",left:!0},null,8,["modelValue"]),s(P,{modelValue:b.value,"onUpdate:modelValue":a[6]||(a[6]=t=>b.value=t),title:"Post-Osaka",left:!1},null,8,["modelValue"])]),s(ee,{poweredBy:C.value},null,8,["poweredBy"])])]),_:1},8,["title","eip"]))}});export{oe as _};
